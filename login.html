<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - OnlineShoes</title>
    <meta name="description" content="Login to your OnlineShoes account." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="css/responsive.css" />
</head>

<body>
    <!-- Header -->
    <header class="site-header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">üëü</span>
                <span class="logo-text">OnlineShoes</span>
            </a>
            <nav class="nav-links">
                <a href="index.html">Home</a>
                <a href="product.html">Products</a>
                <a href="cart.html">Cart</a>
                <a href="login.html" class="active">Login</a>
            </nav>
            <div class="header-actions">
                <a href="cart.html" class="cart-icon">üõí <span class="cart-count">0</span></a>
                <div class="theme-toggle" id="themeToggle">üåô</div>
                <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">‚ò∞</button>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-links">
            <a href="index.html"><span class="nav-icon">üè†</span> Home</a>
            <a href="product.html"><span class="nav-icon">üëü</span> Products</a>
            <a href="cart.html"><span class="nav-icon">üõí</span> Cart</a>
            <a href="login.html" class="active"><span class="nav-icon">üë§</span> Login</a>
            <a href="signup.html"><span class="nav-icon">‚ú®</span> Sign Up</a>
        </div>
    </nav>

    <!-- Login Form -->
    <main class="auth-main">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <h1>Welcome Back</h1>
                    <p>Sign in to your account</p>
                </div>

                <form id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" placeholder="Enter your email" required />
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Enter your password" required />
                    </div>
                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox" id="remember" />
                            <span>Remember me</span>
                        </label>
                        <a href="#" class="forgot-password">Forgot Password?</a>
                    </div>
                    <button type="submit" class="btn btn-primary auth-btn">Sign In</button>
                </form>

                <div class="auth-divider">
                    <span>or continue with</span>
                </div>

                <div class="social-login">
                    <button class="social-btn google" onclick="socialLogin('google')">
                        <span>G</span> Google
                    </button>
                    <button class="social-btn facebook" onclick="socialLogin('facebook')">
                        <span>f</span> Facebook
                    </button>
                </div>

                <div class="auth-footer">
                    <p>Don't have an account? <a href="signup.html">Sign Up</a></p>
                </div>

                <div class="demo-credentials">
                    <p><strong>Demo Admin:</strong> admin@onlineshoes.com / admin123</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-bottom">
            <p>&copy; 2026 OnlineShoes. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Check if already logged in
            if (isLoggedIn()) {
                const user = getCurrentUser();
                if (user.role === 'admin') {
                    window.location.href = 'admin/dashboard.html';
                } else {
                    window.location.href = 'account.html';
                }
            }
        });

        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            const result = login(email, password);

            if (result.success) {
                showNotification('Login successful!');
                setTimeout(() => {
                    if (result.isAdmin) {
                        window.location.href = 'admin/dashboard.html';
                    } else {
                        // Check if there's a redirect URL
                        const urlParams = new URLSearchParams(window.location.search);
                        const redirect = urlParams.get('redirect') || 'account.html';
                        window.location.href = redirect;
                    }
                }, 1000);
            } else {
                showNotification('Invalid email or password', 'error');
            }
        });

        function socialLogin(provider) {
            showNotification(`${provider} login coming soon!`, 'info');
        }
    </script>
</body>

</html>